<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>More comments</title>
</head>
<script>
    function actionLikeDislike(like_or_dislike_req,id_post_req,id_comment_req){
        fetch("/like_dislike", {
            method: 'POST',
            body: JSON.stringify({
                like_or_dislike: like_or_dislike_req,
                id_post: id_post_req,
                id_comment: id_comment_req,
            }),
        })
		window.location.reload();
    }
</script>
<body>
    <div>
		{{ .Id_post}}
		{{ .Id_account}}
		{{ .Title}}
		{{ .Texts}}
		{{ .Category}}
            <form action="/commentcreation" method="POST">
                <input type="hidden" id="uuid_post" name="uuid_post" value="{{.Id_post}}">
                <button class="sub button" type="submit" value="create_comment">create comment</button>
            </form>
        </div>
		{{ range .Comments}}
			{{ .Id_comment }}
			{{ .Id_account }}
			{{ .Comment }}
            <script>
                var like = "like"
                var dislike = "dislike"
            </script>
            <button id="{{.Id_comment}}" onclick="actionLikeDislike(like,null,this.id)">Like</button>{{.Like_comment}}
            <button id="{{.Id_comment}}" onclick="actionLikeDislike(dislike,null,this.id)">Dislike</button>{{.Dislike_comment}}
		{{ end }}
</body>
</html>